<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrazione - SIW Recipes</title>

    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/register.css">
</head>

<body>

<header class="navbar">
    <div class="logo">
        <a href="/">
            <img src="/images/logo_siw_recipes.png" alt="Logo SIW Recipes">
        </a>
    </div>
    <nav>
        <ul class="nav-links">
            <li><a href="/">Home</a></li>
            <li><a href="/login">Accedi</a></li>
        </ul>
    </nav>
</header>

<div class="register-page">
    
    <main class="content">

        <h1>Registrati a SIW Recipes</h1>

        <div class="form-box">
            <form th:action="@{/register}" method="POST" th:object="${user}">

                <div class="form-row">
                    <div class="input-group">
                        <label>Nome</label>
                        <input type="text" placeholder="Nome" required th:field="*{name}" />
                        <span th:if="${#fields.hasErrors('name')}" class="error-message">
                            <p th:errors="*{name}">Errore Nome</p>
                        </span>
                    </div>

                    <div class="input-group">
                        <label>Cognome</label>
                        <input type="text" placeholder="Cognome" required th:field="*{surname}" />
                        <span th:if="${#fields.hasErrors('surname')}" class="error-message">
                            <p th:errors="*{surname}">Errore Cognome</p>
                        </span>
                    </div>
                </div>

                <div class="input-group">
                    <label>Email</label>
                    <input type="email" placeholder="esempio@email.com" required th:field="*{email}" />
                    <span th:if="${#fields.hasErrors('email')}" class="error-message">
                        <p th:errors="*{email}">Errore Email</p>
                    </span>
                </div>

                <div class="input-group">
                    <label>Data di nascita</label>
                    <input type="date" required th:field="*{birth}"
                           th:attr="max=${#temporals.format(#temporals.createNow(), 'yyyy-MM-dd')}" />
                    <span th:if="${#fields.hasErrors('birth')}" class="error-message">
                        <p th:errors="*{birth}">Errore Data</p>
                    </span>
                </div>

                <div class="form-row">
                    <div class="input-group">
                        <label>Username</label>
                        <input type="text" placeholder="Scegli username" required th:field="*{credentials.username}" />
                        <span th:if="${#fields.hasErrors('credentials.username')}" class="error-message">
                            <p th:errors="*{credentials.username}">Errore Username</p>
                        </span>
                    </div>

                    <div class="input-group">
                        <label>Password</label>
                        <input type="password" placeholder="Scegli password" required th:field="*{credentials.password}" />
                        <span th:if="${#fields.hasErrors('credentials.password')}" class="error-message">
                            <p th:errors="*{credentials.password}">Errore Password</p>
                        </span>
                    </div>
                </div>

                <button type="submit">Registrati</button>

            </form>
        </div>

        <div class="container-login">
            <h2>Hai gi√† un account?</h2>
            <p>Accedi per continuare a esplorare SIW Recipes.</p>
            <a href="/login">Accedi</a>
        </div>

    </main>
</div>

</body>
</html>